// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import { Test, console } from "forge-std/Test.sol";
import { LibFormat } from "../src/LibFormat.sol";

contract Counter {
  bytes public data;

  function getData() public view returns (bytes memory) {
    return data;
  }

  function setData(bytes memory _data) public {
    data = _data;
  }
}

contract CounterTest is Test {
  function testBasic() public returns (bytes memory) {
    bytes memory data =
      hex"89504E470D0A1A0A0000000D4948445200000031000000310806000000739C411C000000097048597300000B1200000B1201D2DD7EFC0000001B74455874536F6674776172650043656C7379732053747564696F20546F6F6CC1A7E17C0000014C494441546881ED964B0EC3200C0513A9B78C7ABAA8B78CD4AE9010C1F633D87C52665595006F8821ECD7717EB7C9D91F25F1FABC7B6751731DE7B66D8944F87306E2BC378919DE48C8C94A8CFC46723997440F96C4282C09740289DA0572950802525FF43B448DE326615D8ADC82B84BE482A4A06353395C25D080A85C5309A99F4610E9D345A244A6A904D7272E9BD0A63DC1BA482021A567907633899C80469E0ADA4C227E862A25CD42A4024D256A0F83DC6F4EC04C2217403A5E03DC466D26C19551ED4712292573092914123E7E56D3B75842DACC5CD01CDA0D5D2D61753BE582055C24721B0F9D502BE02E41D5ACA66C6A054C244A4F1F1477092464ADA49B44DCA60D979EFF12AE127130EDA4C8389AB14CEF4E1CDADBACB68F8904122A45DA57C3485001118695A042A4945CE3BB4AD4B2244661498CC27F498C8E28310BA4C46CDC2466E611123F20DA9B08C2E446B60000000E655849664D4D002A0000000800000000000000D253930000000049454E44AE426082";
    Counter counter = new Counter();
    counter.setData(data);

    console.log("Base64:");
    console.log(LibFormat.toBase64(counter.getData()));

    console.log("SVG:");
    console.log(LibFormat.SVGWrap(LibFormat.toBase64(counter.getData()), "png"));
  }
}
